{"mappings":"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","sources":["<anon>","src/scripts/homepageCases.js"],"sourcesContent":["// Добавление обработчика для обновления при изменении размера окна (updateCasesDisplay) => handleResize\nconst casesContainer = document.getElementById(\"casesContainer\");\nconst caseTemplate = (href, imageUrl, altImage, title, category, gridArea)=>`\n    <a href=\"${href}\" class=\"case\" style=\"grid-area: ${gridArea}\">\n        <div class=\"container_img\">\n            <img src=\"${SERVER_URL}/uploads/${imageUrl}\" alt=\"${altImage}\" />\n        </div>\n        <p class=\"category\">${category}</p>\n        <p class=\"title\">${title}</p>\n    </a>\n`;\n// Функция обрезки массива случаев до нужного размера\nfunction trimCases(cases, targetSize) {\n    let totalSize = 0;\n    let trimmedCases = [];\n    for(let i = 0; i < cases.length; i++){\n        let caseSize = parseInt(cases[i].block_size, 10);\n        if (totalSize + caseSize <= targetSize) {\n            totalSize += caseSize;\n            trimmedCases.push(cases[i]);\n        } else if (totalSize + 1 == targetSize && caseSize == 2) {\n            // Создаем копию элемента и изменяем ее\n            let modifiedCase = {\n                ...cases[i],\n                block_size: \"1\"\n            };\n            totalSize += 1;\n            trimmedCases.push(modifiedCase);\n        }\n        if (totalSize === targetSize) break;\n    }\n    return trimmedCases;\n}\nasync function loadCases() {\n    try {\n        const response = await fetch(`${SERVER_URL}/api/get_homepage_cases.php`);\n        state.data = await response.json();\n        state.layout = [];\n        // handleResize\n        updateCasesDisplay();\n    } catch (error) {\n        console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0434\\u043B\\u044F Cases:\", error);\n    }\n}\nloadCases();\n// Обновление отображения случаев в зависимости от ширины экрана\nconst updateCasesDisplay = ()=>{\n    casesContainer.innerHTML = \"\";\n    if (window.innerWidth >= 1200) displaySnakeCases(4, 8);\n    else if (window.innerWidth <= 1200 && window.innerWidth >= 900) displaySnakeCases(3, 6);\n    else if (window.innerWidth <= 900 && window.innerWidth >= 650) displayCases(state.data.slice(0, 4));\n    else if (window.innerWidth <= 650) displayCases(state.data.slice(0, 3));\n};\n// Функция отображения случаев в формате \"змейка\"\nfunction displaySnakeCases(maxRowLength, maxBlocks) {\n    const trimData = trimCases(state.data, maxBlocks);\n    state.layout.length = 0;\n    displayCases(trimData);\n    // Заполнение пустых ячеек для полного ряда\n    if (state.layout.length % maxRowLength > 0) {\n        const missingCells = maxRowLength - state.layout.length % maxRowLength;\n        state.layout.push(...Array(missingCells).fill(\".\"));\n    }\n    // Формирование шаблона сетки для CSS Grid\n    let gridTemplateAreas = \"\";\n    for(let i = 0; i < state.layout.length; i += maxRowLength){\n        const row = state.layout.slice(i, i + maxRowLength);\n        if (i / maxRowLength % 2 === 1) row.reverse();\n        gridTemplateAreas += `'${row.join(\" \")}' `;\n    }\n    casesContainer.style.gridTemplateAreas = gridTemplateAreas.trim();\n}\n// Функция отображения случаев\nfunction displayCases(cases) {\n    const slidesHtml = cases.map((item)=>{\n        const itemName = `item-${item.display_order}`;\n        const count = item.block_size == 1 ? 1 : 2;\n        state.layout.push(...Array(count).fill(itemName));\n        return caseTemplate(`#${item.href}`, item.image_url, item.alt_image, item.title, item.category, `item-${item.display_order}`);\n    }).join(\"\");\n    casesContainer.innerHTML = slidesHtml;\n}\n\n//# sourceMappingURL=index.858c3b89.js.map\n","// Добавление обработчика для обновления при изменении размера окна (updateCasesDisplay) => handleResize\n\nconst casesContainer = document.getElementById('casesContainer')\n\nconst caseTemplate = (href, imageUrl, altImage, title, category, gridArea) => `\n    <a href=\"${href}\" class=\"case\" style=\"grid-area: ${gridArea}\">\n        <div class=\"container_img\">\n            <img src=\"${SERVER_URL}/uploads/${imageUrl}\" alt=\"${altImage}\" />\n        </div>\n        <p class=\"category\">${category}</p>\n        <p class=\"title\">${title}</p>\n    </a>\n`\n\n// Функция обрезки массива случаев до нужного размера\nfunction trimCases(cases, targetSize) {\n  let totalSize = 0\n  let trimmedCases = []\n  for (let i = 0; i < cases.length; i++) {\n    let caseSize = parseInt(cases[i].block_size, 10)\n\n    if (totalSize + caseSize <= targetSize) {\n      totalSize += caseSize\n      trimmedCases.push(cases[i])\n    } else if (totalSize + 1 == targetSize && caseSize == 2) {\n      // Создаем копию элемента и изменяем ее\n      let modifiedCase = { ...cases[i], block_size: '1' }\n      totalSize += 1\n      trimmedCases.push(modifiedCase)\n    }\n    if (totalSize === targetSize) break\n  }\n  return trimmedCases\n}\n\nasync function loadCases() {\n  try {\n    const response = await fetch(`${SERVER_URL}/api/get_homepage_cases.php`)\n    state.data = await response.json()\n    state.layout = []\n\n    // handleResize\n    updateCasesDisplay()\n  } catch (error) {\n    console.error('Ошибка загрузки данных для Cases:', error)\n  }\n}\n\nloadCases()\n\n// Обновление отображения случаев в зависимости от ширины экрана\nconst updateCasesDisplay = () => {\n  casesContainer.innerHTML = ''\n  if (window.innerWidth >= 1200) {\n    displaySnakeCases(4, 8)\n  } else if (window.innerWidth <= 1200 && window.innerWidth >= 900) {\n    displaySnakeCases(3, 6)\n  } else if (window.innerWidth <= 900 && window.innerWidth >= 650) {\n    displayCases(state.data.slice(0, 4))\n  } else if (window.innerWidth <= 650) {\n    displayCases(state.data.slice(0, 3))\n  }\n}\n\n// Функция отображения случаев в формате \"змейка\"\nfunction displaySnakeCases(maxRowLength, maxBlocks) {\n  const trimData = trimCases(state.data, maxBlocks)\n\n  state.layout.length = 0\n  displayCases(trimData)\n\n  // Заполнение пустых ячеек для полного ряда\n  if (state.layout.length % maxRowLength > 0) {\n    const missingCells = maxRowLength - (state.layout.length % maxRowLength)\n    state.layout.push(...Array(missingCells).fill('.'))\n  }\n\n  // Формирование шаблона сетки для CSS Grid\n  let gridTemplateAreas = ''\n  for (let i = 0; i < state.layout.length; i += maxRowLength) {\n    const row = state.layout.slice(i, i + maxRowLength)\n    if ((i / maxRowLength) % 2 === 1) {\n      row.reverse()\n    }\n    gridTemplateAreas += `'${row.join(' ')}' `\n  }\n  casesContainer.style.gridTemplateAreas = gridTemplateAreas.trim()\n}\n\n// Функция отображения случаев\nfunction displayCases(cases) {\n  const slidesHtml = cases\n    .map((item) => {\n      const itemName = `item-${item.display_order}`\n      const count = item.block_size == 1 ? 1 : 2\n      state.layout.push(...Array(count).fill(itemName))\n\n      return caseTemplate(\n        `#${item.href}`,\n        item.image_url,\n        item.alt_image,\n        item.title,\n        item.category,\n        `item-${item.display_order}`\n      )\n    })\n    .join('')\n  casesContainer.innerHTML = slidesHtml\n}\n"],"names":["casesContainer","document","getElementById","caseTemplate","href","imageUrl","altImage","title","category","gridArea","SERVER_URL","loadCases","response","fetch","state","data","json","layout","updateCasesDisplay","error","console","innerHTML","window","innerWidth","displaySnakeCases","displayCases","slice","maxRowLength","maxBlocks","trimData","trimCases","cases","targetSize","totalSize","trimmedCases","i","length","caseSize","parseInt","block_size","push","modifiedCase","missingCells","Array","fill","gridTemplateAreas","row","reverse","join","style","trim","slidesHtml","map","item","itemName","display_order","count","image_url","alt_image"],"version":3,"file":"index.858c3b89.js.map"}