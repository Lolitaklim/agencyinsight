{"mappings":"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","sources":["src/scripts/case.js"],"sourcesContent":["const SERVER_URL = 'http://localhost:8080'\n// const state = {}\n\nconst caseHeadTmp = (imageUrl, altImage, title, category, logo, altLogo) => `\n    <div class=\"case-head\">\n        <img class=\"logo\" src=\"${SERVER_URL}/uploads/${logo}\" alt=\"${altLogo}\" />\n        <h1>${title}</h1>\n        <p class=\"category\">${category}</p>\n        <div class=\"container_main_img\">\n            <img class=\"main-img\" src=\"${SERVER_URL}/uploads/${imageUrl}\" alt=\"${altImage}\" />\n        </div>\n    </div>\n`\n\nconst alsoCaseTmp = (href, imageUrl, altImage, title, category) => `\n    <a href=\"${href}\" class=\"also-case\">\n        <div class=\"container_img\">\n            <img src=\"${SERVER_URL}/uploads/${imageUrl}\" alt=\"${altImage}\" />\n        </div>\n        <p class=\"category\">${category}</p>\n        <p class=\"also-case-title\">${title}</p>\n    </a>\n`\n\nfunction renderAcquaintance(block) {\n  const points = block.points\n    .map((point) => {\n      return `\n        <p class=\"point\">\n            ${point.text}\n        </p>`\n    })\n    .join('')\n  const html = `\n    <div class=\"acquaintance\">\n        <p class=\"title\">${block.title}</p>\n        <div class=\"line-points\">\n        <span class=\"line\"></span>\n        <div class=\"points\">\n            ${points}\n        </div>\n        </div>\n    </div>\n  `\n  return html\n}\n\nfunction renderColorBlock(block) {\n  const points = block.points\n    .map((point) => {\n      return `\n        <p class=\"point\">\n            ${point.text}\n        </p>`\n    })\n    .join('')\n  const html = `\n    <div class=\"color-block\">\n        <p class=\"title\">${block.title}</p>\n        <div class=\"points\">\n            ${points}\n        </div>\n    </div>\n  `\n  return html\n}\n\nfunction renderOrdinaryBlock(block) {\n  const points = block.points\n    .map((point) => `<p class=\"point\">${point.text}</p>`)\n    .join('')\n  const html = `\n    <div class=\"ordinary-block\">\n        <p class=\"title\">${block.title}</p>\n        <div class=\"points\">\n            ${points}\n        </div>\n    </div>\n  `\n  return html\n}\n\nfunction renderMarkNumList(block) {\n  const points = block.points\n    .map((point, index) => {\n      const ul = point.ul\n        ? point.ul.map((item) => `<li>${item}</li>`).join('')\n        : ''\n      return `\n        <div class=\"point\">\n          <div class=\"num\">${String(index + 1).padStart(2, '0')}</div>\n          <div class=\"list\">\n            <p class=\"title-point\">${point.title_point}</p>\n            ${ul ? `<ul>${ul}</ul>` : ''}\n          </div>\n        </div>\n      `\n    })\n    .join('')\n  const html = `\n      <div class=\"mark-num-list\">\n        <p class=\"title\">${block.title}</p>\n        <div class=\"points\">\n          ${points}\n        </div>\n      </div>\n    `\n  return html\n}\n\nfunction renderResults(block) {\n  const points = block.points\n    .map((point) => {\n      return `\n        <div class=\"point\">\n            <p class=\"top\">${point.top}</p>\n            <p class=\"bottom\">${point.bottom}</p>\n        </div>\n      `\n    })\n    .join('')\n  const html = `\n      <div class=\"results\">\n          <p class=\"title\">${block.title}</p>\n          <div class=\"points\">\n              ${points}\n          </div>\n      </div>\n    `\n  return html\n}\n\nfunction renderSimpleParagraph(block) {\n  const html = `\n      <div class=\"simple-paragraph\">\n        ${block.content}\n      </div>\n    `\n  return html\n}\n\nfunction renderContent(data) {\n  const caseData = data.case[0]\n\n  document.title = caseData.title_page\n\n  document\n    .querySelector('meta[name=\"description\"]')\n    .setAttribute('content', caseData.description)\n\n  document\n    .querySelector('meta[name=\"keywords\"]')\n    .setAttribute('content', caseData.keywords)\n\n  console.log(caseData)\n  const caseHead = caseHeadTmp(\n    caseData.image_url,\n    caseData.alt_image,\n    caseData.title,\n    caseData.category,\n    caseData.logo_url,\n    caseData.alt_logo\n  )\n  let htmlContent = caseHead\n\n  // const pageData = JSON.parse(data.case[0].page_data)\n  const pageData = data.case[0].page_data\n\n  pageData.case_blocks.forEach((block) => {\n    let blockHtml = ''\n    switch (block.class) {\n      case 'acquaintance':\n        blockHtml = renderAcquaintance(block)\n        break\n      case 'color-block':\n        blockHtml = renderColorBlock(block)\n        break\n      case 'ordinary-block':\n        blockHtml = renderOrdinaryBlock(block)\n        break\n      case 'mark-num-list':\n        blockHtml = renderMarkNumList(block)\n        break\n      case 'results':\n        blockHtml = renderResults(block)\n        break\n      case 'simple-paragraph':\n        blockHtml = renderSimpleParagraph(block)\n        break\n      default:\n        console.log('Неизвестный класс:', block.class)\n    }\n    htmlContent += blockHtml\n  })\n  document.getElementById('caseContainer').innerHTML = htmlContent\n\n  const alsoCases = data.also_cases\n    .map((item) =>\n      alsoCaseTmp(\n        `#${item.href}`,\n        item.image_url,\n        item.alt_image,\n        item.title,\n        item.category\n      )\n    )\n    .join('')\n  document.getElementById('alsoCasesContainer').innerHTML = alsoCases\n}\n\nasync function loadCase() {\n  try {\n    const urlParams = new URLSearchParams(window.location.search)\n    const caseId = urlParams.get('case')\n\n    const response = await fetch(\n      `${SERVER_URL}/api/get_case.php?case=${encodeURIComponent(caseId)}`\n    )\n\n    const data = await response.json()\n\n    renderContent(data)\n  } catch (error) {\n    console.error('Error fetching the case:', error)\n  }\n}\nloadCase()\n"],"names":[],"version":3,"file":"case.b7df8914.js.map","sourceRoot":"/__parcel_source_root/"}