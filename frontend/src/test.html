<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Snake Blocks</title>
    <style>
      .grid-container {
        display: grid;
        margin-top: 5px;
        padding: 10px;
        gap: 10px;
        background: rgb(0, 150, 208);
        grid-template-rows: 60px 60px;
        grid-template-columns: 22% 22% 22% 22%;
      }

      .item {
        background-color: azure;
      }
    </style>
  </head>
  <body>
    <div class="grid-container" id="container"></div>
    <script>
      const blocks = [
        { name: 1, value: 1 },
        { name: 2, value: 1 },
        { name: 3, value: 2 },
        { name: 4, value: 2 },
        // { name: 5, value: 2 },
        // { name: 6, value: 1 },
        // { name: 7, value: 2 },
        // { name: 8, value: 2 },
      ]

      function Cases() {
        const container = document.getElementById('container')
        // let rowLength = 0
        const maxRowLength = 3
        const layout = []

        blocks.forEach((block) => {
          const itemName = `item-${block.name}`
          const count = block.value === 1 ? 1 : 2
          layout.push(...Array(count).fill(itemName))

          const div = document.createElement('div')
          div.classList.add('item')
          div.textContent = block.name
          div.style.gridArea = `item-${block.name}`
          container.appendChild(div)
        })

        if (layout.length % maxRowLength > 0) {
          const missingCells = maxRowLength - (layout.length % maxRowLength)
          layout.push(...Array(missingCells).fill('.'))
        }

        let gridTemplateAreas = ''

        for (let i = 0; i < layout.length; i += maxRowLength) {
          const row = layout.slice(i, i + maxRowLength)
          if ((i / maxRowLength) % 2 === 1) {
            row.reverse()
          }
          gridTemplateAreas += `'${row.join(' ')}' `
        }
        container.style.gridTemplateAreas = gridTemplateAreas.trim()
        console.log(gridTemplateAreas.trim())
      }
      Cases()
    </script>
  </body>
</html>
